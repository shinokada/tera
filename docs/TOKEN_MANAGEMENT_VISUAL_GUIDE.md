# TERA Token Management - Visual Menu Guide\n\n## Main Menu → Gist Flow\n\n```\n┌─────────────────────────────────────┐\n│     TERA MAIN MENU                  │\n├─────────────────────────────────────┤\n│ 1) Play from my list                │\n│ 2) Search radio stations             │\n│ 3) List (Create/Read/Update/Delete) │\n│ 4) Delete a radio station            │\n│ 5) I feel lucky                      │\n│ 6) Gist                 ← SELECT THIS│\n│ 0) Exit                             │\n└─────────────────────────────────────┘\n         ↓\n┌─────────────────────────────────────┐\n│   TERA GIST MENU                    │\n├─────────────────────────────────────┤\n│ You have X saved gist(s)            │\n│                                     │\n│ 0) Main Menu                        │\n│ 1) Token Management     ← NEW!      │\n│ 2) Create a gist                    │\n│ 3) My Gists                         │\n│ 4) Recover favorites from a gist    │\n│ 5) Update a gist                    │\n│ 6) Delete a gist                    │\n│ 7) Exit                             │\n└─────────────────────────────────────┘\n         ↓\n┌─────────────────────────────────────┐\n│   TOKEN MANAGEMENT MENU             │\n├─────────────────────────────────────┤\n│ ✓ Token: ghp_VaVnzkTqr...ItDAAEo   │\n│                                     │\n│ 0) Back to Gist Menu                │\n│ 1) Setup/Change Token               │\n│ 2) View Current Token               │\n│ 3) Validate Token                   │\n│ 4) Delete Token                     │\n│ 5) Back                             │\n└─────────────────────────────────────┘\n```\n\n---\n\n## Token Management Options\n\n### 1) Setup/Change Token\n\n```\n┌──────────────────────────────────────────┐\n│  SETUP GITHUB TOKEN                      │\n├──────────────────────────────────────────┤\n│                                          │\n│ Steps:                                   │\n│ 1. Go to: https://github.com/settings/  │\n│    tokens                                │\n│ 2. Click 'Generate new token (classic)'  │\n│ 3. Select ONLY 'gist' scope              │\n│ 4. Copy token                            │\n│                                          │\n│ Paste your GitHub token: ••••••••••••••  │\n│ (input hidden for security)              │\n│                                          │\n│ ✓ Validating token with GitHub API...   │\n│ ✓ Token is valid!                        │\n│ GitHub user: yourname                    │\n│ ✓ Token has been saved securely!         │\n│                                          │\n│ Token stored in: ~/.config/tera/tokens/  │\n│ File permissions: 600 (owner only)       │\n│                                          │\n│ Press Enter to continue...               │\n└──────────────────────────────────────────┘\n```\n\n### 2) View Current Token\n\n```\n┌──────────────────────────────────────────┐\n│  VIEW GITHUB TOKEN                       │\n├──────────────────────────────────────────┤\n│                                          │\n│ Current Token Status:                    │\n│                                          │\n│ Masked token: ghp_VaVnzkTqr...ItDAAEo   │\n│ GitHub user: yourname                    │\n│                                          │\n│ ✓ Token is currently valid               │\n│                                          │\n│ Press Enter to continue...               │\n└──────────────────────────────────────────┘\n```\n\n### 3) Validate Token\n\n```\nScenario A - Valid Token:\n┌──────────────────────────────────────────┐\n│  VALIDATE GITHUB TOKEN                   │\n├──────────────────────────────────────────┤\n│                                          │\n│ Testing token with GitHub API...         │\n│                                          │\n│ ✓ Token is VALID!                        │\n│                                          │\n│ GitHub user: yourname                    │\n│ Your token works perfectly for Gist ops. │\n│                                          │\n│ Press Enter to continue...               │\n└──────────────────────────────────────────┘\n\nScenario B - Invalid Token:\n┌──────────────────────────────────────────┐\n│  VALIDATE GITHUB TOKEN                   │\n├──────────────────────────────────────────┤\n│                                          │\n│ Testing token with GitHub API...         │\n│                                          │\n│ ✗ Token is INVALID or EXPIRED!           │\n│                                          │\n│ This token cannot be used for Gist ops.  │\n│                                          │\n│ Possible reasons:                        │\n│ 1. Token has expired                     │\n│ 2. Token was revoked on GitHub           │\n│ 3. Token doesn't have 'gist' scope       │\n│ 4. Network connection issue              │\n│                                          │\n│ Update token in Setup/Change Token       │\n│                                          │\n│ Press Enter to continue...               │\n└──────────────────────────────────────────┘\n```\n\n### 4) Delete Token\n\n```\n┌──────────────────────────────────────────┐\n│  DELETE GITHUB TOKEN                     │\n├──────────────────────────────────────────┤\n│                                          │\n│ ⚠️  WARNING: This will delete your       │\n│    stored GitHub token!                  │\n│                                          │\n│ Token: ghp_VaVnzkTqr...ItDAAEo          │\n│                                          │\n│ You won't be able to use Gist features   │\n│ until you set up a new token.            │\n│                                          │\n│ Type 'yes' to confirm: _                 │\n│                                          │\n│ (User types: yes)                        │\n│                                          │\n│ ✓ Token has been deleted successfully!   │\n│ You can set up a new token anytime.      │\n│                                          │\n│ Press Enter to continue...               │\n└──────────────────────────────────────────┘\n```\n\n---\n\n## Common User Flows\n\n### Flow 1: First-Time Setup\n\n```\nUser launches TERA\n    ↓\nMain Menu (no token configured)\n    ↓\nSelect \"6) Gist\"\n    ↓\nGist Menu shows: \"⚠️  GitHub Token not configured!\"\n    ↓\nSelect \"1) Token Management\"\n    ↓\nToken Management Menu (no token)\n    ↓\nSelect \"1) Setup/Change Token\"\n    ↓\nGoes to GitHub, creates token\n    ↓\nReturns to TERA, pastes token\n    ↓\nTERA validates with GitHub API\n    ↓\n✓ \"Token is valid! GitHub user: yourname\"\n    ↓\nToken saved to ~/.config/tera/tokens/\n    ↓\nReady to create gists!\n```\n\n### Flow 2: Verify Token Works\n\n```\nToken Management\n    ↓\nSelect \"3) Validate Token\"\n    ↓\nTERA tests with GitHub API\n    ↓\n✓ Shows result: Valid or Invalid\n    ↓\nIf invalid: User can update in \"Setup/Change Token\"\n```\n\n### Flow 3: Change to Different Account\n\n```\nToken Management\n    ↓\nSelect \"4) Delete Token\"\n    ↓\nConfirm deletion (type 'yes')\n    ↓\n✓ Token deleted\n    ↓\nSelect \"1) Setup/Change Token\"\n    ↓\nPaste new token from different account\n    ↓\n✓ New token validated and saved\n```\n\n### Flow 4: Security Incident (Token Leaked)\n\n```\nToken Management\n    ↓\nSelect \"4) Delete Token\"\n    ↓\nConfirm deletion\n    ↓\n✓ Token deleted from TERA\n    ↓\nGo to GitHub → Settings → Tokens\n    ↓\nRevoke the leaked token\n    ↓\nGenerate new token\n    ↓\nReturn to TERA\n    ↓\nSelect \"1) Setup/Change Token\"\n    ↓\nPaste new token\n    ↓\n✓ New token validated and saved\n```\n\n---\n\n## Token Status Indicators\n\n### Gist Menu\n\n```\nWhen token IS configured:\n┌─────────────────────────────────────┐\n│   TERA GIST MENU                    │\n│ You have 2 saved gist(s)            │  ← Status shown\n│                                     │\n│ 0) Main Menu                        │\n│ 1) Token Management                 │\n│ ...                                 │\n└─────────────────────────────────────┘\n\nWhen token IS NOT configured:\n┌─────────────────────────────────────┐\n│   TERA GIST MENU                    │\n│ ⚠️  GitHub Token not configured!    │  ← Warning shown\n│                                     │\n│ 0) Main Menu                        │\n│ 1) Token Management                 │\n│ ...                                 │\n└─────────────────────────────────────┘\n```\n\n### Token Management Menu\n\n```\nWhen token IS configured:\n┌─────────────────────────────────────┐\n│   TOKEN MANAGEMENT                  │\n│ ✓ Token: ghp_VaVnzkTqr...ItDAAEo   │  ← Token shown\n│                                     │\n│ 1) Setup/Change Token               │\n│ ...                                 │\n└─────────────────────────────────────┘\n\nWhen token IS NOT configured:\n┌─────────────────────────────────────┐\n│   TOKEN MANAGEMENT                  │\n│ ⚠️  No GitHub token configured      │  ← Warning shown\n│                                     │\n│ 1) Setup/Change Token               │\n│ ...                                 │\n└─────────────────────────────────────┘\n```\n\n---\n\n## File System Structure\n\n```\nBefore Setup:\n~/.config/tera/\n├── favorite/\n│   └── My-favorites.json\n└── gist_metadata.json\n\nAfter Token Setup:\n~/.config/tera/\n├── favorite/\n│   └── My-favorites.json\n├── tokens/\n│   └── github_token        (600 permissions)\n└── gist_metadata.json\n```\n\n---\n\n## Security Indicators\n\n```\nToken Setup Screen:\n┌──────────────────────────────────────────┐\n│                                          │\n│ Paste your GitHub token: ••••••••••••••  │  ← Input is hidden\n│                                          │\n│ ✓ Token saved securely!                  │\n│ Token stored in: ~/.config/tera/tokens/  │\n│ File permissions: 600 (owner only)       │  ← Security info shown\n│                                          │\n└──────────────────────────────────────────┘\n```\n\n---\n\n## Error Messages\n\n```\nFormat Error:\n╔════════════════════════════════════╗\n║ Error: Token seems too short       ║  ← User typed something too short\n║                                    ║\n║ (minimum ~40 characters)           ║\n╚════════════════════════════════════╝\n\nValidation Error:\n╔════════════════════════════════════╗\n║ ✗ Token validation failed!         ║  ← GitHub API rejected token\n║                                    ║\n║ Common issues:                     ║\n║ 1. Token is invalid or expired     ║\n║ 2. Token doesn't have gist scope   ║\n║ 3. Network connection issue        ║\n║ 4. Token was revoked              ║\n║                                    ║\n║ Try again? (yes/no): _             ║\n╚════════════════════════════════════╝\n```\n